{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst search = document.querySelector('.search_bar');\nconst button = document.querySelector('.button');\nconst loader = document.querySelector('.loader');\n\nbutton.addEventListener('click', ImageSearch);\n\nconst source = 'https://pixabay.com/api/?';\nconst options = new URLSearchParams({\n\tkey: '46749030-b6cef6a6b69e043ecf4444c1b',\n\timage_type: 'photo',\n\torientation: 'horizontal',\n\t// per_page: 50,\n});\n\nconst error =\n\t'Sorry, there are no images matching your search query. Please try again!';\n\nfunction ImageSearch() {\n\tlet searchValue = search.value.trim();\n\tif (!searchValue) return;\n\toptions.set('q', searchValue);\n\tloader.style.display = 'block';\n\n\tfetch(`${source}${options}`)\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\traiseError();\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(posts => {\n\t\t\tif (posts.total) {\n\t\t\t\tconst event = new CustomEvent('imagesFetched', { detail: posts.hits });\n\t\t\t\tdocument.dispatchEvent(event);\n\t\t\t\tloader.style.display = 'none';\n\t\t\t} else {\n\t\t\t\traiseError();\n\t\t\t\tloader.style.display = 'none';\n\t\t\t}\n\t\t})\n\t\t.catch(error => console.log(error));\n}\n\nfunction raiseError() {\n\tiziToast.error({\n\t\tmessage: error,\n\t\tposition: 'topRight',\n\t\tcolor: 'red',\n\t\ttheme: 'dark',\n\t});\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nfunction renderGallery(images) {\n    let galleryHTML = \"\";\n    images.forEach((element) => {\n        galleryHTML += `\n            <li class=\"gallery_item\">\n                <a class=\"gallery_link\" href=\"${element.largeImageURL}\" title=\"${element.tags}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${element.webformatURL}\"\n                        alt=\"${element.tags}\"\n                    />\n                </a>\n                <ul class=\"gallery_info\">\n                    <li><span class=\"bold_text\">Likes</span><p class=\"text\">${element.likes}</p></li>\n                    <li><span class=\"bold_text\">Views</span><p class=\"text\">${element.views}</p></li>\n                    <li><span class=\"bold_text\">Comments</span><p class=\"text\">${element.comments}</p></li>\n                    <li><span class=\"bold_text\">Downloads</span><p class=\"text\">${element.downloads}</p></li>\n                </ul>\n            </li>\n        `;\n    });\n\n    gallery.innerHTML = galleryHTML;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        nav: true,\n        overlay: true,\n        captions: true,\n        captionSelector: 'self',\n        captionType: 'attr',\n        captionData: 'title',\n        captionPosition: 'bottom',\n        captionDelay: 250\n    });\n    \n    lightbox.refresh();\n}\n\ndocument.addEventListener('imagesFetched', (event) => {\n    renderGallery(event.detail);\n});\n"],"names":["search","button","loader","ImageSearch","source","options","error","searchValue","response","raiseError","posts","event","iziToast","gallery","renderGallery","images","galleryHTML","element","SimpleLightbox"],"mappings":"6vBAGA,MAAMA,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAO,iBAAiB,QAASE,CAAW,EAE5C,MAAMC,EAAS,4BACTC,EAAU,IAAI,gBAAgB,CACnC,IAAK,qCACL,WAAY,QACZ,YAAa,YAEd,CAAC,EAEKC,EACL,2EAED,SAASH,GAAc,CACtB,IAAII,EAAcP,EAAO,MAAM,KAAI,EAC9BO,IACLF,EAAQ,IAAI,IAAKE,CAAW,EAC5BL,EAAO,MAAM,QAAU,QAEvB,MAAM,GAAGE,CAAM,GAAGC,CAAO,EAAE,EACzB,KAAKG,IACAA,EAAS,IACbC,IAEMD,EAAS,OAChB,EACA,KAAKE,GAAS,CACd,GAAIA,EAAM,MAAO,CAChB,MAAMC,EAAQ,IAAI,YAAY,gBAAiB,CAAE,OAAQD,EAAM,IAAI,CAAE,EACrE,SAAS,cAAcC,CAAK,EAC5BT,EAAO,MAAM,QAAU,MAC3B,MACIO,IACAP,EAAO,MAAM,QAAU,MAE3B,CAAG,EACA,MAAMI,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpC,CAEA,SAASG,GAAa,CACrBG,EAAS,MAAM,CACd,QAASN,EACT,SAAU,WACV,MAAO,MACP,MAAO,MACT,CAAE,CACF,CClDA,MAAMO,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAQ,CAC3B,IAAIC,EAAc,GAClBD,EAAO,QAASE,GAAY,CACxBD,GAAe;AAAA;AAAA,gDAEyBC,EAAQ,aAAa,YAAYA,EAAQ,IAAI;AAAA;AAAA;AAAA,+BAG9DA,EAAQ,YAAY;AAAA,+BACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,8EAImCA,EAAQ,KAAK;AAAA,8EACbA,EAAQ,KAAK;AAAA,iFACVA,EAAQ,QAAQ;AAAA,kFACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,SAInG,CAAK,EAEDJ,EAAQ,UAAYG,EAEH,IAAIE,EAAe,aAAc,CAC9C,IAAK,GACL,QAAS,GACT,SAAU,GACV,gBAAiB,OACjB,YAAa,OACb,YAAa,QACb,gBAAiB,SACjB,aAAc,GACtB,CAAK,EAEQ,QAAO,CACpB,CAEA,SAAS,iBAAiB,gBAAkBP,GAAU,CAClDG,EAAcH,EAAM,MAAM,CAC9B,CAAC"}